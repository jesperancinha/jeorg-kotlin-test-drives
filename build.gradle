buildscript {
    repositories {
        mavenLocal()
    }
}

plugins {
    id("java-gradle-plugin")
    id("maven-publish")
    id( "org.jesperancinha.plugins.omni") version "0.1.1"
    id("jacoco")
}

group 'org.jesperancinha'
version '0.0.0-SNAPSHOT'

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

wrapper {
    gradleVersion = '8.0.0'
}

repositories {
    mavenCentral()
}

test {
    finalizedBy jacocoTestReport
}

subprojects {
    apply plugin: "java"
    repositories {
        mavenCentral()
    }
}

jacocoTestReport {
    dependsOn test, subprojects.test
    reports {
        xml.required = true
        csv.required = true
    }
}
